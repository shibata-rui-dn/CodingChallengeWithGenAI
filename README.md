 # 生成AI RTA （組織可視化システム編）

## 概要

本RTAでは、エンタープライズ環境における組織可視化システムの開発課題を提供いたします。既存のSSO認証システムおよびバッジ管理システムと連携し、組織構造と従業員の個人プロフィール（取得バッジ含む）を統合的に表示するWebアプリケーションを構築していただきます。

### 課題目標
- **組織階層の可視化**: 部署・チーム構造の階層表示
- **従業員プロフィール管理**: 個人情報・取得バッジ・組織内位置の統合表示
- **SSO認証連携**: OAuth 2.0/OpenID Connect による安全な認証基盤の活用
- **データ統合**: 複数システム間のデータ連携とAPIインテグレーション

### 対象技術スタック
- **認証**: OAuth 2.0 + OpenID Connect
- **バックエンド**: Node.js + Express.js
- **フロントエンド**: React 18 + Tailwind CSS
- **データベース**: SQLite 3.x
- **API設計**: RESTful API

## プロジェクト構成

```
organization-visualization-test/
├── README.md                    # 本ドキュメント
├── sso-auth-system/            # SSO認証システム（実装済み）
├── sso-demo-app/               # バッジ管理システム（実装済み）
├── item/                       # 課題レベル別ヒント資料
│   ├── 1. for Challenger/      # 上級者向け（ヒントなし）
│   ├── 2. for Master/          # 中級者向け（設計ヒント提供）
│   └── 3_for_Beginner/         # 初心者向け（実装ヒント提供）
└── work/                       # 作業用フォルダ（開発対象）
```

### 既存システム仕様

#### SSO認証システム (Port: 3303)
- **機能**: OAuth 2.0 Authorization Code Flow
- **プロトコル**: OpenID Connect準拠
- **組織管理**: 部署・チーム・上司関係の管理機能
- **ユーザー管理**: 約1,000名の従業員データ

#### バッジ管理システム (Port: 3000)
- **機能**: IT資格・スキルバッジの取得・管理
- **認証**: SSO認証システムと連携
- **API**: 内部API + 外部システム連携API
- **統計機能**: 部署別実績・ランキング表示

### 課題レベル選択

開発者のスキルレベルに応じて、以下の3つのレベルから選択してください：

#### 1. Challenger（上級者向け）
- **対象**: 経験豊富な開発者
- **提供資料**: 仕様書のみ
- **期待成果**: 独自設計による高度な機能実装

#### 2. Master（中級者向け） ★おすすめ
- **対象**: 一定の開発経験を持つ開発者
- **提供資料**: アーキテクチャ設計ヒント + API仕様
- **期待成果**: 効率的な実装とベストプラクティスの適用

#### 3. Beginner（初心者向け）
- **対象**: 学習中の開発者
- **提供資料**: 詳細な実装ガイド + サンプルコード
- **期待成果**: 基本機能の確実な実装

## クイックスタート

### 前提条件
- Node.js 22.0.0以上
- npm
- Git

### 環境セットアップ

#### 1. SSO認証システムの起動
```bash
# SSO認証システムディレクトリに移動
cd sso-auth-system

# 依存関係のインストール
npm install

# システムの初期化（RSA鍵生成、データベース作成、シードデータ投入）
npm run setup

# 認証サーバーの起動
npm start
```
認証システムは `http://localhost:3303` で起動します。

#### 2. バッジ管理システムの起動
```bash
# 新しいターミナルでバッジ管理システムディレクトリに移動
cd sso-demo-app

# 依存関係のインストール
npm install

# システムの初期化
npm run setup

# アプリケーションの起動
npm start
```
バッジ管理システムは `http://localhost:3000` で起動します。

#### 3. 動作確認
- **SSO管理画面**: `http://localhost:3303/admin`
  - 管理者: `admin` / `SecurePass123`
- **バッジ管理システム**: `http://localhost:3000`
  - 一般ユーザー: `user0` / `UserPass123`

### 開発環境の準備

#### 課題レベルの選択
```bash
# 選択したレベルのヒント資料を確認
cd item/[選択したレベル]/

# ヒント資料の閲覧
cat *.md
```

#### 作業環境の初期化
```bash
# 作業フォルダに移動
cd work/

# 開発プロジェクトの初期化
# ※ここから開発者による実装開始
```

## 課題要件

### 必須機能要件

#### 認証・認可
- [ ] SSO認証システムとのOAuth 2.0連携
- [ ] ユーザーセッション管理
- [ ] 適切な権限制御の実装

#### 組織可視化
- [ ] 組織階層ツリーの表示
- [ ] 部署・チーム構造の可視化
- [ ] 従業員の組織内位置の表示

#### プロフィール管理
- [ ] 個人プロフィール情報の表示
- [ ] 取得バッジの一覧表示

#### システム連携
- [ ] バッジ管理システムAPI連携
- [ ] データの適切な統合・表示
- [ ] エラーハンドリング

### 評価項目

#### 技術的品質
- **アーキテクチャ設計**: システム全体の設計品質
- **コード品質**: 可読性・保守性・拡張性
- **セキュリティ**: 認証・認可の適切な実装
- **パフォーマンス**: レスポンス性能・リソース効率

#### 機能的品質
- **ユーザビリティ**: 直感的で使いやすいUI/UX
- **データ統合**: 複数システムのデータの効果的な統合
- **エラー処理**: 適切なエラーハンドリングとユーザーフィードバック

#### 開発時に用いた生成AI
- **補正値Ki**: Ki=x ※強力なAI（例:Claude4.0）=0.3, 中程度のAI（o3-mini）=1.0

#### 完走までに要した時間
- **補正値Kj**: Kj=4/(max(x, 1)) ※x=hour

## 参考情報

### 利用可能なAPI
- **SSO認証**: `http://localhost:3303`
  - OpenID Connect Discovery: `/.well-known/openid-configuration`
  - ユーザー情報: `/userinfo`
  - 管理API: `/admin/api/*`

- **バッジ管理**: `http://localhost:3000`
  - 内部API: `/api/*`
  - 外部API: `/external-api/*`

### 技術リソース
- **認証フロー**: OAuth 2.0 Authorization Code Flow
- **トークン管理**: JWT (RS256署名)
- **組織データ**: 8部署・約1,000名の従業員データ
- **バッジデータ**: IT資格・スキルバッジ情報

## サポート

### トラブルシューティング
システム起動時に問題が発生した場合は、以下を確認してください：

1. **ポート競合**: 3000, 3303ポートが利用可能であることを確認
2. **依存関係**: `npm install`が正常に完了していることを確認
3. **初期化**: `npm run setup`が正常に実行されていることを確認

### デバッグ情報
- **ログファイル**: 各システムのログ出力を確認
- **ヘルスチェック**: `/health`エンドポイントでシステム状態を確認
- **管理画面**: SSO管理画面でユーザー・クライアント設定を確認

---

**課題作成日**: 2025年7月  
**対象バージョン**: Node.js 22.0.0+  
**想定開発期間**: 8時間（レベルにより変動）